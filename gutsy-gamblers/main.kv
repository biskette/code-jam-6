#:kivy 1.11.1
#:include dials.kv

<MainScreen>:
    Button:
        text: "Time Control"
        font_size: 12
        pos_hint: {'center_x': 0.15, 'center_y': 0.95}
        size_hint: 0.2, 0.05
        on_press: root.time_control_button()

    Button:
        text: "Location"
        font_size: 12
        pos_hint: {'center_x': 0.5, 'center_y': 0.95}
        size_hint: 0.2, 0.05


<TimeWizard>:
    title: 'Time Wizard'
    redraw_checkbox: redraw_checkbox
    current_date: current_date

    size_hint: 0.25, 0.8
    pos_hint: {'center_x': 0.15, 'center_y': 0.5}

	BoxLayout:
		orientation: 'vertical'
		spacing: 10

		GridLayout:
			size_hint: 1, 0.2
        	cols: 2
        	Label:
        		text: "Speedy Time"
			CheckBox:
				id: redraw_checkbox

		BoxLayout:
			orientation: 'horizontal'

			BoxLayout:
				orientation: 'vertical'

				Label:
					text: "Day Length"
					font_size: 12
					size_hint: None, 0.03
					pos_hint: {'center_x': 0.5, 'center_y': 0}

				Slider:
					id: day_slider
					orientation: 'vertical'
					min: 1
					max: 86400
					value: 86400
					on_touch_up: root.time_lapse(round(self.value))

			BoxLayout:
				orientation: 'vertical'

				Label:
					text: "Date Iterate"
					font_size: 12
					size_hint: None, 0.03
					pos_hint: {'center_x': 0.5, 'center_y': 0}

				Slider:
					id: date_slider
					orientation: 'vertical'
					min: -30
					max: -1
					value: -1
					on_touch_up: root.date_lapse(round(self.value))

		Label:
		    id: current_date
			size_hint: 1, 0.2

		Button:
		    text: "Revert date"
		    on_press: root.revert_date()